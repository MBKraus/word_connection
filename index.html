<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Word Connections Game</title>
    <link rel="stylesheet" href="style.css" type="text/css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <!-- Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-VLBY4JREBD"></script>
    <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-VLBY4JREBD');
    </script>
    <!-- Phaser -->
    <script src="https://cdn.jsdelivr.net/npm/phaser@3.87.0/dist/phaser.min.js"></script>
    <!-- Favicon -->
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
</head>

<body>
        <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6630596411552747" crossorigin="anonymous"></script>
        <ins class="adsbygoogle responsive_ad"
             style="display:block"
             data-ad-client="ca-pub-6630596411552747"
             data-ad-slot="6475068180"></ins>
        <script>
        (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
    <div id="game-container"></div>
    <div id="loading-spinner"></div>
    <div id="cookiewall" class="cookiewall">
        <div class="overlay"></div>
        <div class="cookiewall-content">
            <h3>Manage privacy preferences</h3>
            <p class="description">We use cookies and similar methods to recognize visitors and remember their preferences, for analytics, to measure our marketing effectiveness and to target and measure the effectiveness of ads, among other things. To learn more about these methods, view our Cookie Policy and Privacy Policy. By clicking ‘Accept all,’ you consent to the processing of your data by us using the above methods. If you do not wish to accept, you can choose "Reject All" and continue with essential cookies only.</p>
            <div class="cookie-buttons">
                <button id="accept-cookies">Accept All</button>
                <button id="reject-cookies">Reject All</button>
            </div>
        </div>
    </div>
    <div class="text-container" id="targetDiv">
        <h1 class="header">How to Play?</h1>
        <p class="description">
          Guess the tree topics hidden within the descriptive tiles and earn points.
          <br><br>
          Analyze the words and identify which belong to the same topic.
        </p>
        <img src="./assets/screenshot.png" alt="Screenshot of the game">
        <p class="description">
        Submit your answers within 60 seconds to complete the round.
        <br><br>
        Complete three rounds of this challenge to win the game.
        </p>
      </div>
    <script type="module" src="js/main.js"></script>
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            const cookiewall = document.getElementById('cookiewall');
            const acceptButton = document.getElementById('accept-cookies');
            const rejectButton = document.getElementById('reject-cookies');

            // Check if cookies have been accepted or rejected previously
            if (localStorage.getItem('cookiesAccepted') === 'true') {
                cookiewall.style.display = 'none';
                document.body.classList.remove('locked');
                window.dispatchEvent(new Event('cookiesAccepted'));
            } else if (localStorage.getItem('cookiesRejected') === 'true') {
                cookiewall.style.display = 'none';
                document.body.classList.remove('locked');
                window.dispatchEvent(new Event('cookiesRejected'));
            } else {
                // Lock the page and show the cookiewall
                document.body.classList.add('locked');
                window.dispatchEvent(new Event('cookiesBlocking'));
                
                setTimeout(() => {
                    cookiewall.classList.add('show');
                }, 1000);
            }

            // Add click event listener to accept button
            acceptButton.addEventListener('click', function() {
                cookiewall.style.display = 'none';
                localStorage.setItem('cookiesAccepted', 'true');
                localStorage.removeItem('cookiesRejected');
                document.body.classList.remove('locked');
                window.dispatchEvent(new Event('cookiesAccepted'));
            });

            // Add click event listener to reject button
            rejectButton.addEventListener('click', function() {
                cookiewall.style.display = 'none';
                localStorage.setItem('cookiesRejected', 'true');
                localStorage.removeItem('cookiesAccepted');
                document.body.classList.remove('locked');
                window.dispatchEvent(new Event('cookiesRejected'));
            });
        });
    </script>
</body>
</html>